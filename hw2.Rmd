Homework 1 - [Your team name here]
========================================================

### Task 0 - Load the data

```{r}
suppressMessages(library(dplyr))
load("lego_sales.RData")
```


### Task 1 - Tidying the data

<!-- Covert the `sales` object into a tidy data frame. Be sure to include a write up of your methods. -->

```{r}
## Get names of matrix
info_names = c()
purchase_names = c()
n.purchase = 0
for (i in 1:length(sales)) {
  info_names = c(info_names, names(sales[[i]])) %>% unique()
  for (j in 1:length(sales[[i]]$purchases)) {
    purchase_names = c(purchase_names, names(sales[[i]]$purchases[[1]])) %>% unique()
  }
  n.purchase = n.purchase + length(sales[[i]]$purchases)
}

info_names = setdiff(info_names, "purchases")
col_names = c(info_names, paste("purchase.", purchase_names,sep = ""))

## Create an empty data frame
sales_df = matrix(NA, nrow = n.purchase, ncol = length(col_names)) %>% data.frame() %>% setNames(col_names)
sales_df$hobbies = as.list(sales_df$hobbies)

## Iterate through the list to fill in the data frame
idx = 0
for (i in 1:length(sales)) {
  for (j in 1:length(sales[[i]]$purchases)) {
    idx = idx + 1
    for (name1 in info_names) {
      if (!is.null(sales[[i]][[name1]]) && length(sales[[i]][[name1]]) != 0) {
        if (name1 == "hobbies") {
          sales_df[[name1]][[idx]] = as.list(sales[[i]][[name1]])
        } else {
          sales_df[[name1]][idx] = sales[[i]][[name1]]
        }
      }
    }
    for (name2 in purchase_names) {
      name.modified = paste("purchase.", name2, sep="")
      if (!is.null(sales[[i]]$purchases[[j]][[name2]]) && length(sales[[i]]$purchases[[j]][[name2]]) != 0) {
        sales_df[[name.modified]][idx] = sales[[i]]$purchases[[j]][[name2]]
      }
    }
  }
}



#still working on
dat
class(sales)
length(sales)
a = numeric(length(sales))
for(i in 1:length(sales)){
a[i] = length(sales[[i]])
}
names(sales[[1]])

name1= c(names(sales[[1]]))
name1

name = vector( mode = "list")
i=1
for(i in 1:length(sales)){
name[i] = c(names(sales[[i]]))
}
name


length(list)
max(a)
min(list)
sales[[1]]
length(sales[[i]])
names(sales[[i]])
```


<br/>

## Task 2 - Processing the data



1. What was the most common first name of purchasers? Last name?

```{r}
```

2. What are the five most popular lego sets based on these data?

```{r}
```

3. Which five customers have spent the most money so far and how much have they spent?

```{r}
```

4. Which lego theme has made the most money for lego?

```{r}
```

5. Do men or women buy more lego sets (per person) on average?

```{r}
```

6. What are the five most popular hobbies of lego purchasers?

```{r}
```

7. How many total pieces have been purchased from lego by these customers?

```{r}
```

8. What state has spent the most money on legos? Hint - customer area codes may prove useful for this.

```{r}
```
